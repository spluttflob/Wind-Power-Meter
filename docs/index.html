<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Wind Power Power Meter: Wind-Power-Meter</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="poppylogo3m.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Wind Power Power Meter
   &#160;<span id="projectnumber">0.2</span>
   </div>
   <div id="projectbrief">Use a Raspberry Pi Hat to measure small wind turbine output(s).</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Wind-Power-Meter </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Hardware and software for a Raspberry Pi hat which measures the power produced by one or two small wind turbines.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Hardware</h1>
<p>The hardware consists of a circuit board designed in the style of a Raspberry Pi HAT, but it's not an official HAT because an identifier ROM which is part of the HAT specification isn't present. Call it a "Cap" or something.</p>
<p><img src="WindPower_HAT_E.png" alt="Images of Circuit Board" class="inline"/></p>
<p>The board uses a pair of Hall-effect current sensors to measure the current output of the wind turbine; it is expected that the output will be somewhat dirty DC, and simple filtering is provided. Voltage dividers reduce the voltage output of the turbine to safe levels. Voltage and current are then digitized with an ADS112C04 analog to digital converter that talks over an I^2^C interface with the Raspberry Pi.</p>
<h1><a class="anchor" id="autotoc_md2"></a>
Software</h1>
<p>It's just a Python program which gets data from the ADS112C04 and plots some plots.</p>
<p>The software documentation page is at <a href="https://spluttflob.github.io/Wind-Power-Meter/">https://spluttflob.github.io/Wind-Power-Meter/</a>.</p>
<h2><a class="anchor" id="autotoc_md3"></a>
Pi Setup</h2>
<p>When setting up a Raspberry Pi, one must enable the I^2^C interface using <code>raspi-setup</code> or the <b>Raspberry Pi Configuration</b> program from the desktop's applications menu. It's often a good idea to enable <b>SSH</b>, the <b>VNC</b> remote desktop, and <b>SPI</b> as well.</p>
<p>This software is designed to run on a "headless" Raspberry Pi. It has been tested on the October 2021 release of Raspberry Pi OS. There's a nice page showing how to set up a "headless" (no monitor) Raspberry Pi at <a href="https://www.tomshardware.com/reviews/raspberry-pi-headless-setup-how-to,6028.html">https://www.tomshardware.com/reviews/raspberry-pi-headless-setup-how-to,6028.html</a>.</p>
<h2><a class="anchor" id="autotoc_md4"></a>
Dependencies</h2>
<p>One needs the <b>PySimpleGUI</b> package for plotting as well as <b>Matplotlib</b>.</p>
<ul>
<li>To install Matplotlib, run <code>sudo apt install python3-matplotlib</code> on the Pi.</li>
<li>To install PySimpleGUI, run <code>sudo pip3 install pysimplegui</code> on the Pi.</li>
</ul>
<h2><a class="anchor" id="autotoc_md5"></a>
VNC Issues</h2>
<p>The Remmina client on a Linux PC has problems authenticating with the VNC desktop server on the Pi unless one adds the line <code>Authentication=VncAuth</code> to the file <code>/root/.vnc/config.d/vncserver-x11</code> on the Pi and then restarts the VNC server on the Pi with a command such as <code>systemctl restart vncserver-x11-serviced</code> (or a reboot). <br  />
 Other clients such as those for Windows&trade; or MacOS&trade; may or may not require such action to be taken. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
